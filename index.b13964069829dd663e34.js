(()=>{"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();var r=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=n}var e,r;return e=t,(r=[{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.append(t)}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupItem=e,this._closeButton=this._popupItem.querySelector(".popup__close"),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_handleCloseOverlay",value:function(t){t.target===t.currentTarget&&this.close()}},{key:"open",value:function(){this._popupItem.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupItem.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._closeButton.addEventListener("click",(function(){t.close()})),this._popupItem.addEventListener("click",(function(e){return t._handleCloseOverlay(e)}))}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},l.apply(this,arguments)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(r);if(o){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e,n=t.popupSelector,r=t.submitForm;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._submitForm=r,e._popupForm=e._popupItem.querySelector(".popup__form"),e._formList=e._popupForm.querySelectorAll(".popup__input"),e._submitButton=e._popupForm.querySelector(".popup__submit-button"),e}return e=u,(n=[{key:"setInputValues",value:function(t){this._formList.forEach((function(e){e.value=t[e.name]}))}},{key:"_getInputValues",value:function(){var t={};return this._formList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;l(f(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._submitForm(t._getInputValues())}))}},{key:"close",value:function(){l(f(u.prototype),"close",this).call(this),this._popupForm.reset()}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(u);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},d.apply(this,arguments)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupSelector=t,e._popupImage=e._popupItem.querySelector(".popup__image"),e._popupCaption=e._popupItem.querySelector(".popup__caption"),e}return e=u,(n=[{key:"open",value:function(t,e){this._popupImage.src=e,this._popupImage.alt=t,this._popupCaption.textContent=t,d(b(u.prototype),"open",this).call(this)}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(u);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}var g=function(){function t(e){var n=e.dataName,r=e.dataJob,o=e.avatar;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameElement=n,this._jobElement=r,this._avatarElement=o}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{dataName:this._nameElement.textContent,dataJob:this._jobElement.textContent,avatar:this._avatarElement.src}}},{key:"setUserInfo",value:function(t){var e=t.dataName,n=t.dataJob;this._nameElement.textContent=e,this._jobElement.textContent=n}},{key:"setProfileAvatar",value:function(t){this._avatarElement.src=t}}])&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.p,t.p,t.p,t.p,t.p,t.p;var k=document.querySelector(".profile__edit"),w=document.querySelector(".popup_edit-profile"),E=(document.querySelector(".popup__close"),document.querySelector("#popup-form")),j=document.querySelector("#popup-form-card"),O=E.querySelector("#input-name"),P=E.querySelector("#input-job"),L=document.querySelector(".profile__info"),C=L.querySelector(".profile__name"),I=L.querySelector(".profile__aboute"),q=document.querySelector("#card-item-template"),T=document.querySelector(".elements"),B=document.querySelector(".popup_image-open"),R=(B.querySelector(".popup__image"),B.querySelector(".popup__caption"),document.querySelector(".profile__avatar")),U=document.querySelector(".popup_delelte-card"),x=document.querySelector(".popup_edit_avatar"),N=document.querySelector(".profile__avatar-container"),A=(document.querySelector(".popup__input_avatar"),document.querySelector("#submit-button-card")),D=document.querySelector("#submit-button-avatar"),F=document.querySelector("#submit-button-profile"),J=document.querySelector("#delete-submit-button"),V=document.querySelector(".profile__add-button"),H=document.querySelector(".popup-cards");function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===$(o)?o:String(o)),r)}var o}H.querySelector("#card-name-discription"),H.querySelector("#card-link");var z=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userId=o,this._cardId=e._id,this._likes=e.likes,this._ownerId=e.owner._id,this._name=e.name,this._link=e.link,this._handleCardClick=r,this._createLike=i.createLike,this._deleteLike=i.deleteLike,this._container=n.content.querySelector(".element").cloneNode(!0),this._likeNumber=this._container.querySelector(".element__like-number"),this._likeButton=this._container.querySelector(".element__button-like"),this._cardTitle=this._container.querySelector(".element__title"),this._cardImage=this._container.querySelector(".element__photo"),this._buttonTrash=this._container.querySelector(".element__button-trash"),this._handleDeleteCard=i.deleteCardFunction}var e,n;return e=t,(n=[{key:"_setCardImage",value:function(){return this._cardImage=this._container.querySelector(".element__photo"),this._cardImage.setAttribute("src",this._link),this._cardImage.setAttribute("alt",this._name),this._cardImage}},{key:"_setCardTitle",value:function(){return this._cardTitle=this._container.querySelector(".element__title"),this._cardTitle.textContent=this._name,this._cardTitle}},{key:"_deleteButtonIsVisible",value:function(){this._userId!==this._ownerId&&(this._buttonTrash.style.visibility="hidden")}},{key:"deleteCard",value:function(){this._container.remove()}},{key:"_setEventListeners",value:function(){var t=this;this._cardImage.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)})),this._buttonTrash.addEventListener("click",(function(){t._handleDeleteCard(t._cardId)})),this._likeButton.addEventListener("click",(function(){t._handleLikeClick()}))}},{key:"_setCardLikes",value:function(){this._likeNumber.textContent=this._likes.length}},{key:"_isLiked",value:function(){var t=this;return this._likes.some((function(e){return e._id===t._userId}))}},{key:"showData",value:function(t){this._likes=t.likes,this._likeNumber.textContent=this._likes.length,this._isLiked()?this._likeButton.classList.add("element__button-like_active"):this._likeButton.classList.remove("element__button-like_active")}},{key:"_handleLikeClick",value:function(){this._isLiked()?this._deleteLike(this._cardId):this._createLike(this._cardId)}},{key:"getCard",value:function(){return this._setCardTitle(),this._setCardImage(),this._setEventListeners(),this._setCardLikes(),this._deleteButtonIsVisible(),this._isLiked()?this._likeButton.classList.add("element__button-like_active"):this._likeButton.classList.remove("element__button-like_active"),this._container}}])&&G(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===M(o)?o:String(o)),r)}var o}const Q=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._formButton=this._formElement.querySelector(this._config.submitButtonSelector)}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));e.classList.add(this._config.errorClass),e.textContent=t.validationMessage,t.classList.add(this._config.inputErrorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));e.classList.remove(this._config.errorClass),e.textContent="",t.classList.remove(this._config.inputErrorClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?(this._formButton.classList.add(this._config.inactiveButtonClass),this._formButton.disabled=!0):(this._formButton.classList.remove(this._config.inactiveButtonClass),this._formButton.disabled=!1)}},{key:"_setEventListeners",value:function(){var t=this;this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))})),this._formElement.addEventListener("reset",(function(){setTimeout((function(){t.toggleButtonState()}),0)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&K(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===W(o)?o:String(o)),r)}var o}var Y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl="https://mesto.nomoreparties.co/v1/cohort-60/",this._headers={authorization:"8449ac58-7a24-4246-806a-a59752bbc1d5","Content-Type":"application/json"}}var e,n;return e=t,n=[{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{method:"GET",headers:this._headers}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.log(t)}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards"),{method:"GET",headers:this._headers}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.log(t)}))}},{key:"updateUserAvatar",value:function(t){return fetch("".concat(this._baseUrl,"users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify(t)}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.log(t)}))}},{key:"updateUserInfo",value:function(t){return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.log(t)}))}},{key:"createCard",value:function(t){return fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.log(t)}))}},{key:"deleteCard",value:function(t){return fetch("".concat(this._baseUrl,"cards/").concat(t),{method:"DELETE",headers:this._headers}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.log(t)}))}},{key:"addLike",value:function(t){return fetch("".concat(this._baseUrl,"cards/likes/").concat(t),{method:"PUT",headers:this._headers}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.log(t)}))}},{key:"deleteLike",value:function(t){return fetch("".concat(this._baseUrl,"cards/likes/").concat(t),{method:"DELETE",headers:this._headers}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.log(t)}))}}],n&&X(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Z(o)?o:String(o)),r)}var o}function et(){return et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},et.apply(this,arguments)}function nt(t,e){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nt(t,e)}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}var ot,it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rt(r);if(o){var n=rt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this,t),console.log(),e._submitButton=t.querySelector(".popup__submit-button"),e}return e=u,(n=[{key:"setEventListeners",value:function(){var t=this;et(rt(u.prototype),"setEventListeners",this).call(this),this._submitButton.addEventListener("click",(function(e){e.preventDefault(),t._handleSubmit()}))}},{key:"setSubmitHandler",value:function(t){this._handleSubmit=t}}])&&tt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(u),ut=new Y,ct=new it(U);function at(t){var e=new z(t,q,lt,ot,{createLike:function(t){ut.addLike(t).then((function(t){e.showData(t)})).catch((function(t){console.log(t)}))},deleteLike:function(t){ut.deleteLike(t).then((function(t){e.showData(t)})).catch((function(t){console.log(t)}))},deleteCardFunction:function(t){ct.open(),ct.setSubmitHandler((function(){ht(!0,J),ut.deleteCard(t).then((function(){e.deleteCard(),ct.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){ht(!1,J)}))}))}});return e.getCard()}function lt(t,e){st.open(t,e),st.setEventListeners()}ct.setEventListeners();var st=new v(B);st.setEventListeners();var ft=new r({renderer:function(t){ft.addItem(at(t))}},T),pt=new g({dataName:C,dataJob:I,avatar:R}),yt=new p({popupSelector:x,submitForm:function(t){ht(!0,D),ut.updateUserAvatar(t).then((function(t){pt.setProfileAvatar(t.avatar),yt.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){ht(!1,D)}))}});function ht(t,e){e.textContent=t?"Сохранение...":"Сохранить"}yt.setEventListeners(),N.addEventListener("click",(function(){yt.open()})),ut.getUserInfo().then((function(t){ot=t._id,pt.setUserInfo({dataName:t.name,dataJob:t.about}),pt.setProfileAvatar(t.avatar),ut.getInitialCards().then((function(t){ft.renderItems(t)}))})).catch((function(t){console.log("Ошибка: ".concat(t))}));var dt=new p({popupSelector:H,submitForm:function(t){ht(!0,A),ut.createCard({name:t.cardName,link:t.cardLink}).then((function(t){ft.addItem(at(t)),dt.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){ht(!1,A)}))}});dt.setEventListeners(),V.addEventListener("click",(function(){dt.open(),j.reset()})),k.addEventListener("click",(function(){var t;bt.open(),t=pt.getUserInfo(),O.value=t.dataName,P.value=t.dataJob,bt.open()}));var mt,bt=new p({popupSelector:w,submitForm:function(t){ht(!0,F),ut.updateUserInfo({name:t.dataName,about:t.dataJob}).then((function(t){pt.setUserInfo({dataName:t.name,dataJob:t.about}),bt.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){ht(!1,F)}))}});bt.setEventListeners(),mt={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",activeButtonClass:"popup__submit-button_valid",inactiveButtonClass:"popup__submit-button_invalid",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"},Array.from(document.querySelectorAll(mt.formSelector)).forEach((function(t){new Q(mt,t).enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pXG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEl0ZW0gPSBwb3B1cFNlbGVjdG9yO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuICBcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUNsb3NlT3ZlcmxheShldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQgIT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEl0ZW0uY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcG9wdXBJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PlxuICAgICAgdGhpcy5faGFuZGxlQ2xvc2VPdmVybGF5KGV2dClcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBzdWJtaXRGb3JtIH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9mb3JtTGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc3VibWl0LWJ1dHRvblwiKTtcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9mb3JtTGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWUgPSB7fTtcblxuICAgIHRoaXMuX2Zvcm1MaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICB9KTtcbiAgfVxuXG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwSXRlbS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbiAgICB0aGlzLl9wb3B1cENhcHRpb24gPSB0aGlzLl9wb3B1cEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YU5hbWUsIGRhdGFKb2IsIGF2YXRhciB9KSB7XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkYXRhTmFtZTtcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZGF0YUpvYjtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50ID0gYXZhdGFyO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGFOYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGRhdGFKb2I6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHtkYXRhTmFtZSwgZGF0YUpvYn0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGFOYW1lO1xuICAgIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBkYXRhSm9iO1xuXG4gIH07XG5cbiAgc2V0UHJvZmlsZUF2YXRhcihhdmF0YXIpe1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iLCIvL9C60LDRgNGC0LjQvdC60Lgg0LTQu9GPINC60LDRgNGC0L7Rh9C10LpcbmltcG9ydCBDYXJkSW1hZ2VzQ29mZmUgZnJvbSAnLi4vaW1hZ2VzL2NvZmZlLmpwZydcbmltcG9ydCBDYXJkSW1hZ2VzSnVpY2UgZnJvbSAnLi4vaW1hZ2VzL29yYW5nZS1qdWljZS5wbmcnXG5pbXBvcnQgQ2FyZEltYWdlc1BpYW5vIGZyb20gJy4uL2ltYWdlcy9waWFuby5wbmcnXG5pbXBvcnQgQ2FyZEltYWdlc0Nvc21vIGZyb20gJy4uL2ltYWdlcy9DQ0NQLnBuZydcbmltcG9ydCBDYXJkSW1hZ2VzUGl6emEgZnJvbSAnLi4vaW1hZ2VzL3BpenphLnBuZydcbmltcG9ydCBDYXJkSW1hZ2VzUGhvdG8gZnJvbSAnLi4vaW1hZ2VzL3Bob3RvZ3JhcGguanBnJ1xuXG4vL9C60L7QvdGB0YLQsNC90YLRi1xuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Qb3B1cEVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQnKTtcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2VkaXQtcHJvZmlsZScpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlUG9wdXBFZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKTtcbmV4cG9ydCBjb25zdCBwb3B1cEZvcm1FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLWZvcm0nKVxuZXhwb3J0IGNvbnN0IHBvcHVwRm9ybUFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1mb3JtLWNhcmQnKTtcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBwb3B1cEZvcm1FZGl0LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC1uYW1lJylcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IHBvcHVwRm9ybUVkaXQucXVlcnlTZWxlY3RvcignI2lucHV0LWpvYicpXG5leHBvcnQgY29uc3QgcHJvZmlsZUluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW5mbycpXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlSW5mby5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYiA9IHByb2ZpbGVJbmZvLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hYm91dGUnKVxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLWl0ZW0tdGVtcGxhdGVcIik7XG5leHBvcnQgY29uc3QgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZU9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfaW1hZ2Utb3BlbicpO1xuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBwb3B1cEltYWdlT3Blbi5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XG5leHBvcnQgY29uc3QgcG9wdXBDYXB0aW9uID0gcG9wdXBJbWFnZU9wZW4ucXVlcnlTZWxlY3RvcignLnBvcHVwX19jYXB0aW9uJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcbmV4cG9ydCBjb25zdCBQb3B1cERlbGV0ZUNhcmQgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2RlbGVsdGUtY2FyZCcpO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUF2YXRhclBvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0X2F2YXRhcicpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWNvbnRhaW5lcicpO1xuZXhwb3J0IGNvbnN0IGF2YXRhcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvblN1Ym1pdENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdC1idXR0b24tY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBidXR0b25TdWJtaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdC1idXR0b24tYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvblN1Ym1pdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdC1idXR0b24tcHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBidXR0b25TdWJtaXREZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1zdWJtaXQtYnV0dG9uXCIpO1xuXG5cblxuLy8g0J/QmNCo0JXQnCDQmtCQ0Jog0JIg0JLQldCR0JjQndCQ0KDQlS5cbmV4cG9ydCBjb25zdCBidXR0b25PcGVuUG9wdXBBZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWNhcmRzXCIpO1xuZXhwb3J0IGNvbnN0IHRpdGxlSW5wdXQgPSBwb3B1cENhcmRzLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1uYW1lLWRpc2NyaXB0aW9uXCIpO1xuZXhwb3J0IGNvbnN0IGxpbmtJbnB1dCA9IHBvcHVwQ2FyZHMucXVlcnlTZWxlY3RvcihcIiNjYXJkLWxpbmtcIik7XG5cblxuLy/QvNCw0YHRgdC40LIg0LrQsNGA0YLQvtGH0LXQulxuZXhwb3J0IGNvbnN0IGNhcmRzID0gW1xuICB7XG4gICAgbmFtZTogJ0NvZmZlZScsXG4gICAgbGluazogQ2FyZEltYWdlc0NvZmZlXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JPQu9C40L3RgtCy0LXQudC9JyxcbiAgICBsaW5rOiBDYXJkSW1hZ2VzSnVpY2VcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQn9C40LDQvdC40YHRgicsXG4gICAgbGluazogQ2FyZEltYWdlc1BpYW5vXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JrQvtGB0LzQvtC90LDQstGCJyxcbiAgICBsaW5rOiBDYXJkSW1hZ2VzQ29zbW9cbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQktC60YPRgdC90L7RgtC40YnQsCEnLFxuICAgIGxpbms6IENhcmRJbWFnZXNQaXp6YVxuICB9LFxuICB7XG4gICAgbmFtZTogJ1Bob3RvJyxcbiAgICBsaW5rOiBDYXJkSW1hZ2VzUGhvdG9cbiAgfVxuXTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3N1Ym1pdC1idXR0b24nLFxuICBhY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zdWJtaXQtYnV0dG9uX3ZhbGlkJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zdWJtaXQtYnV0dG9uX2ludmFsaWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXQtZXJyb3JfdmlzaWJsZSdcbn07XG5cblxuIiwiY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGNhcmREYXRhLCBzZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCAgdXNlcklkLCBoYW5kbGVzKSB7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmREYXRhLl9pZDtcbiAgICB0aGlzLl9saWtlcyA9IGNhcmREYXRhLmxpa2VzO1xuICAgIHRoaXMuX293bmVySWQgPSBjYXJkRGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGNhcmREYXRhLmxpbms7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2NyZWF0ZUxpa2UgPSBoYW5kbGVzLmNyZWF0ZUxpa2U7XG4gICAgdGhpcy5fZGVsZXRlTGlrZSA9IGhhbmRsZXMuZGVsZXRlTGlrZTtcbiAgICB0aGlzLl9jb250YWluZXIgPSBzZWxlY3Rvci5jb250ZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuX2xpa2VOdW1iZXIgPSB0aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLW51bWJlclwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uLWxpa2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGl0bGVcIik7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fcGhvdG9cIik7XG4gICAgdGhpcy5fYnV0dG9uVHJhc2ggPSB0aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b24tdHJhc2hcIik7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZXMuZGVsZXRlQ2FyZEZ1bmN0aW9uO1xuICB9XG5cbiAgX3NldENhcmRJbWFnZSgpIHtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19waG90b1wiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIHRoaXMuX2xpbmspO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgdGhpcy5fbmFtZSk7XG5cblxuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRJbWFnZTtcbiAgfVxuXG4gIF9zZXRDYXJkVGl0bGUoKSB7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGl0bGVcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkVGl0bGU7XG4gIH1cblxuICBfZGVsZXRlQnV0dG9uSXNWaXNpYmxlKCkge1xuICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVySWQpIHtcbiAgICAgIHRoaXMuX2J1dHRvblRyYXNoLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnJlbW92ZSgpO1xuICB9XG5cblxuICAvL9GB0L7Qt9C00LDRjiDQv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCDQtNC70Y8g0YPRgdGC0LDQvdC+0LLQutC4INCy0YHQtdGFINC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiAocmV3IDEpXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2J1dHRvblRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2NhcmRJZCk7XG5cbiAgICB9KTtcblxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpXG4gICAgfSk7XG4gIH1cblxuICBfc2V0Q2FyZExpa2VzKCkge1xuICAgIHRoaXMuX2xpa2VOdW1iZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gIH1cblxuICBfaXNMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cblxuICBzaG93RGF0YShkYXRhKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuXG4gICAgdGhpcy5fbGlrZU51bWJlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIGlmICh0aGlzLl9pc0xpa2VkKCkpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2J1dHRvbi1saWtlX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZWxlbWVudF9fYnV0dG9uLWxpa2VfYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVMaWtlQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuX2lzTGlrZWQoKSkge1xuICAgICAgdGhpcy5fZGVsZXRlTGlrZSh0aGlzLl9jYXJkSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jcmVhdGVMaWtlKHRoaXMuX2NhcmRJZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2FyZCgpIHtcbiAgICB0aGlzLl9zZXRDYXJkVGl0bGUoKTtcbiAgICB0aGlzLl9zZXRDYXJkSW1hZ2UoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3NldENhcmRMaWtlcygpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbklzVmlzaWJsZSgpO1xuXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQoKSkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fYnV0dG9uLWxpa2VfYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50X19idXR0b24tbGlrZV9hY3RpdmVcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgfVxufVxuXG5leHBvcnQgeyBDYXJkIH07XG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb25maWcgPSB2YWxpZGF0aW9uQ29uZmlnO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fZm9ybUJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG5cbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcblxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fZm9ybUJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxuICAgICAgdGhpcy5fZm9ybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2Zvcm1CdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcylcbiAgICAgIHRoaXMuX2Zvcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSwgMClcbiAgICB9KVxuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL1VzZXJJbmZvXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAvXCI7XG4gICAgdGhpcy5faGVhZGVycyA9IHtcbiAgICAgIGF1dGhvcml6YXRpb246IFwiODQ0OWFjNTgtN2EyNC00MjQ2LTgwNmEtYTU5NzUyYmJjMWQ1XCIsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlVXNlckF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShhdmF0YXIpLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVVzZXJJbmZvKHVzZXJJbmZvKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VySW5mbyksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlQ2FyZChjYXJkSW5mbykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkSW5mbyksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBkZWxldGVMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3RvcilcbiAgICBjb25zb2xlLmxvZygpO1xuICB0aGlzLl9zdWJtaXRCdXR0b24gPSBwb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VibWl0LWJ1dHRvbicpXG5cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0U3VibWl0SGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlcjtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtcbiAgdGVtcGxhdGUsXG4gIGNhcmRDb250YWluZXIsXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIHBvcHVwSW1hZ2VPcGVuLFxuICBidXR0b25PcGVuUG9wdXBFZGl0UHJvZmlsZSxcbiAgcG9wdXBFZGl0UHJvZmlsZSxcbiAgcHJvZmlsZU5hbWUsXG4gIHByb2ZpbGVKb2IsXG4gIGJ1dHRvbk9wZW5Qb3B1cEFkZENhcmQsXG4gIHBvcHVwQ2FyZHMsXG4gIHByb2ZpbGVBdmF0YXIsXG4gIFBvcHVwRGVsZXRlQ2FyZCxcbiAgdXBkYXRlQXZhdGFyUG9wdXBFbGVtZW50LFxuICBwcm9maWxlQXZhdGFyQ29udGFpbmVyLFxuICBhdmF0YXJJbnB1dCxcbiAgYnV0dG9uU3VibWl0Q2FyZCxcbiAgcG9wdXBGb3JtQWRkLFxuICBidXR0b25TdWJtaXRBdmF0YXIsXG4gIGJ1dHRvblN1Ym1pdFByb2ZpbGUsXG4gIGJ1dHRvblN1Ym1pdERlbGV0ZSxcbiAgam9iSW5wdXQsbmFtZUlucHV0XG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvblwiO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKCk7XG5sZXQgdXNlcklkO1xuXG5jb25zdCBkZWxldGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oUG9wdXBEZWxldGVDYXJkKTtcbmRlbGV0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YSwgdGVtcGxhdGUsIGhhbmRsZUNhcmRDbGljaywgdXNlcklkLCB7XG4gICAgY3JlYXRlTGlrZTogKGNhcmRJZCkgPT4ge1xuICAgICAgYXBpXG4gICAgICAgIC5hZGRMaWtlKGNhcmRJZClcbiAgICAgICAgLnRoZW4oKGxpa2VzKSA9PiB7XG4gICAgICAgICAgY2FyZC5zaG93RGF0YShsaWtlcyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlTGlrZTogKGNhcmRJZCkgPT4ge1xuICAgICAgYXBpXG4gICAgICAgIC5kZWxldGVMaWtlKGNhcmRJZClcbiAgICAgICAgLnRoZW4oKGxpa2VzKSA9PiB7XG4gICAgICAgICAgY2FyZC5zaG93RGF0YShsaWtlcyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlQ2FyZEZ1bmN0aW9uOiAoY2FyZElkKSA9PiB7XG4gICAgICBkZWxldGVQb3B1cC5vcGVuKCk7XG4gICAgICBkZWxldGVQb3B1cC5zZXRTdWJtaXRIYW5kbGVyKCgpID0+IHtcbiAgICAgICAgaXNXYWl0aW5nKHRydWUsIGJ1dHRvblN1Ym1pdERlbGV0ZSk7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5kZWxldGVDYXJkKGNhcmRJZClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmQoKTtcbiAgICAgICAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBpc1dhaXRpbmcoZmFsc2UsIGJ1dHRvblN1Ym1pdERlbGV0ZSk7XG5cbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2V0Q2FyZCgpO1xuXG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuLy/RhNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQutCw0YDRgtC40L3QutC4XG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xuICBwb3B1cFZpZXdJbWFnZXMub3BlbihuYW1lLCBsaW5rKTtcbiAgcG9wdXBWaWV3SW1hZ2VzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG59XG5cbi8vICrQlNC70Y8g0LrQsNC20LTQvtCz0L4g0L/QvtC/0LDQv9CwINGB0L7Qt9C00LDQstCw0LnRgtC1INGB0LLQvtC5INGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LAgUG9wdXBXaXRoRm9ybSpcbmNvbnN0IHBvcHVwVmlld0ltYWdlcyA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cEltYWdlT3Blbik7XG5cbnBvcHVwVmlld0ltYWdlcy5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjYXJkTGlzdFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY2FyZExpc3RTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XG4gICAgfSxcbiAgfSxcbiAgY2FyZENvbnRhaW5lclxuKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBkYXRhTmFtZTogcHJvZmlsZU5hbWUsXG4gIGRhdGFKb2I6IHByb2ZpbGVKb2IsXG4gIGF2YXRhcjogcHJvZmlsZUF2YXRhcixcbn0pO1xuXG5jb25zdCB1cGRhdGVBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogdXBkYXRlQXZhdGFyUG9wdXBFbGVtZW50LFxuICBzdWJtaXRGb3JtOiAoYXZhdGFyKSA9PiB7XG4gICAgaXNXYWl0aW5nKHRydWUsIGJ1dHRvblN1Ym1pdEF2YXRhcik7XG4gICAgYXBpXG4gICAgICAudXBkYXRlVXNlckF2YXRhcihhdmF0YXIpXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRQcm9maWxlQXZhdGFyKGRhdGEuYXZhdGFyKTtcbiAgICAgICAgdXBkYXRlQXZhdGFyUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGlzV2FpdGluZyhmYWxzZSwgYnV0dG9uU3VibWl0QXZhdGFyKTtcblxuICAgICAgfSk7XG4gIH0sXG59KTtcblxudXBkYXRlQXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnByb2ZpbGVBdmF0YXJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdXBkYXRlQXZhdGFyUG9wdXAub3BlbigpO1xufSk7XG5cbmFwaVxuICAuZ2V0VXNlckluZm8oKVxuICAudGhlbigodXNlckRhdGEpID0+IHtcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgZGF0YU5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICBkYXRhSm9iOiB1c2VyRGF0YS5hYm91dCxcbiAgICB9KTtcbiAgICB1c2VySW5mby5zZXRQcm9maWxlQXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XG4gICAgYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKGNhcmREYXRhKSA9PiB7XG4gICAgICBjYXJkTGlzdFNlY3Rpb24ucmVuZGVySXRlbXMoY2FyZERhdGEpO1xuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICB9KTtcblxuZnVuY3Rpb24gaXNXYWl0aW5nKGlzTG9hZGluZywgc3VibWl0QnV0dG9uKSB7XG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gIH0gZWxzZSB7XG4gICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QuNGC0YxcIjtcbiAgfVxufVxuXG4vLyAvL9GN0LrQt9C10LzQv9C70Y/RgCDQtNC70Y8g0YTQvtGA0LzRiyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC40L3QutC4XG5jb25zdCBwb3B1cEFkZENhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBwb3B1cENhcmRzLFxuICBzdWJtaXRGb3JtOiAoaW5wdXRzKSA9PiB7XG4gICAgaXNXYWl0aW5nKHRydWUsIGJ1dHRvblN1Ym1pdENhcmQpO1xuXG4gICAgYXBpXG4gICAgICAuY3JlYXRlQ2FyZCh7XG4gICAgICAgIG5hbWU6IGlucHV0cy5jYXJkTmFtZSxcbiAgICAgICAgbGluazogaW5wdXRzLmNhcmRMaW5rLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY2FyZExpc3RTZWN0aW9uLmFkZEl0ZW0oXG4gICAgICAgICAgY3JlYXRlQ2FyZChyZXMsIFwiI2NhcmQtaXRlbS10ZW1wbGF0ZVwiLCBoYW5kbGVDYXJkQ2xpY2ssIHVzZXJJZClcbiAgICAgICAgKTtcbiAgICAgICAgcG9wdXBBZGRDYXJkRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgaXNXYWl0aW5nKGZhbHNlLCBidXR0b25TdWJtaXRDYXJkKTtcblxuICAgICAgfSk7XG4gIH0sXG59KTtcblxucG9wdXBBZGRDYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL9GB0L7Qt9C00LDRjiDRhNGD0L3QutGG0LjRjiDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQutCw0YDRgtC+0YfQutC4XG5mdW5jdGlvbiBoYW5kbGVQb3B1cEFkZENhcmRGb3JtKCkge1xuICBwb3B1cEFkZENhcmRGb3JtLm9wZW4oKTtcbiAgcG9wdXBGb3JtQWRkLnJlc2V0KCk7XG59XG5cbmJ1dHRvbk9wZW5Qb3B1cEFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVBvcHVwQWRkQ2FyZEZvcm0pO1xuXG4vLyAgIC8vINCh0LvRg9GI0LDRgtC10LvRjCDQvdCwINC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmJ1dHRvbk9wZW5Qb3B1cEVkaXRQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG9wZW5FZGl0UHJvZmlsZS5vcGVuKCk7XG4gIGhhbmRsZU9wZW5Qcm9maWxlRm9ybSgpXG59KTtcblxuLy/QrdC60LfQtdC80L/Qu9GP0YAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xuLy8g0YHQtNC10LvQsNGC0Ywg0YTRg9C90LrRhtC40Y4g0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPINC00LDQvdC90YvRhSDQsiDQuNC90L/Rg9GC0YtcbmZ1bmN0aW9uIGhhbmRsZU9wZW5Qcm9maWxlRm9ybSgpIHtcbiAgY29uc3QgdXNlciA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXIuZGF0YU5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gdXNlci5kYXRhSm9iO1xuICBvcGVuRWRpdFByb2ZpbGUub3BlbigpO1xufVxuXG5jb25zdCBvcGVuRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IHBvcHVwRWRpdFByb2ZpbGUsXG4gIHN1Ym1pdEZvcm06IChpbnB1dHMpID0+IHtcbiAgICBpc1dhaXRpbmcodHJ1ZSwgYnV0dG9uU3VibWl0UHJvZmlsZSk7XG5cbiAgICBhcGlcbiAgICAgIC51cGRhdGVVc2VySW5mbyh7XG4gICAgICAgIG5hbWU6IGlucHV0cy5kYXRhTmFtZSxcbiAgICAgICAgYWJvdXQ6IGlucHV0cy5kYXRhSm9iLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgICAgICBkYXRhTmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgIGRhdGFKb2I6IGRhdGEuYWJvdXQsXG4gICAgICAgIH0pO1xuICAgICAgICBvcGVuRWRpdFByb2ZpbGUuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGlzV2FpdGluZyhmYWxzZSwgYnV0dG9uU3VibWl0UHJvZmlsZSk7XG5cbiAgICAgIH0pO1xuICB9LFxufSk7XG5cbm9wZW5FZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQstGL0LfQstCw0LvQuCDRhNGD0L3QutGG0LjRjiDQstCw0LvQuNC00LDRhtC40Lgg0YEg0J7QntCfXG5cbmZ1bmN0aW9uIGVuYWJsZVZhbGlkYXRpb24oY29uZmlnKSB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcblxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGZvcm1JbmZvVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7XG4gICAgZm9ybUluZm9WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn1cblxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwSXRlbSIsIl9jbG9zZUJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJldmVudCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVDbG9zZU92ZXJsYXkiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Rm9ybSIsIl9zdWJtaXRGb3JtIiwiX3BvcHVwRm9ybSIsIl9mb3JtTGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiZGF0YSIsImlucHV0IiwidmFsdWUiLCJuYW1lIiwiaW5wdXRWYWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cFNlbGVjdG9yIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBDYXB0aW9uIiwibGluayIsImFsdCIsInRleHRDb250ZW50IiwiVXNlckluZm8iLCJkYXRhTmFtZSIsImRhdGFKb2IiLCJhdmF0YXIiLCJfbmFtZUVsZW1lbnQiLCJfam9iRWxlbWVudCIsIl9hdmF0YXJFbGVtZW50IiwiYnV0dG9uT3BlblBvcHVwRWRpdFByb2ZpbGUiLCJwb3B1cEVkaXRQcm9maWxlIiwicG9wdXBGb3JtRWRpdCIsInBvcHVwRm9ybUFkZCIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwicHJvZmlsZUluZm8iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJ0ZW1wbGF0ZSIsImNhcmRDb250YWluZXIiLCJwb3B1cEltYWdlT3BlbiIsInByb2ZpbGVBdmF0YXIiLCJQb3B1cERlbGV0ZUNhcmQiLCJ1cGRhdGVBdmF0YXJQb3B1cEVsZW1lbnQiLCJwcm9maWxlQXZhdGFyQ29udGFpbmVyIiwiYnV0dG9uU3VibWl0Q2FyZCIsImJ1dHRvblN1Ym1pdEF2YXRhciIsImJ1dHRvblN1Ym1pdFByb2ZpbGUiLCJidXR0b25TdWJtaXREZWxldGUiLCJidXR0b25PcGVuUG9wdXBBZGRDYXJkIiwicG9wdXBDYXJkcyIsIkNhcmQiLCJjYXJkRGF0YSIsInNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwidXNlcklkIiwiaGFuZGxlcyIsIl91c2VySWQiLCJfY2FyZElkIiwiX2lkIiwiX2xpa2VzIiwibGlrZXMiLCJfb3duZXJJZCIsIm93bmVyIiwiX25hbWUiLCJfbGluayIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfY3JlYXRlTGlrZSIsImNyZWF0ZUxpa2UiLCJfZGVsZXRlTGlrZSIsImRlbGV0ZUxpa2UiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2xpa2VOdW1iZXIiLCJfbGlrZUJ1dHRvbiIsIl9jYXJkVGl0bGUiLCJfY2FyZEltYWdlIiwiX2J1dHRvblRyYXNoIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJkZWxldGVDYXJkRnVuY3Rpb24iLCJzZXRBdHRyaWJ1dGUiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJfaGFuZGxlTGlrZUNsaWNrIiwic29tZSIsImxpa2UiLCJfaXNMaWtlZCIsIl9zZXRDYXJkVGl0bGUiLCJfc2V0Q2FyZEltYWdlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX3NldENhcmRMaWtlcyIsIl9kZWxldGVCdXR0b25Jc1Zpc2libGUiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsImlucHV0U2VsZWN0b3IiLCJfZm9ybUJ1dHRvbiIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJlcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hhc0ludmFsaWRJbnB1dCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInNldFRpbWVvdXQiLCJBcGkiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwianNvbiIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXNlckluZm8iLCJjYXJkSW5mbyIsImNhcmRJZCIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsIl9oYW5kbGVTdWJtaXQiLCJoYW5kbGVyIiwiYXBpIiwiZGVsZXRlUG9wdXAiLCJjcmVhdGVDYXJkIiwiY2FyZCIsImFkZExpa2UiLCJzaG93RGF0YSIsImVycm9yIiwib3BlbiIsInNldFN1Ym1pdEhhbmRsZXIiLCJpc1dhaXRpbmciLCJkZWxldGVDYXJkIiwiZmluYWxseSIsImdldENhcmQiLCJwb3B1cFZpZXdJbWFnZXMiLCJzZXRFdmVudExpc3RlbmVycyIsImNhcmRMaXN0U2VjdGlvbiIsImFkZEl0ZW0iLCJ1cGRhdGVBdmF0YXJQb3B1cCIsInVwZGF0ZVVzZXJBdmF0YXIiLCJzZXRQcm9maWxlQXZhdGFyIiwiaXNMb2FkaW5nIiwic3VibWl0QnV0dG9uIiwiZ2V0VXNlckluZm8iLCJ1c2VyRGF0YSIsInNldFVzZXJJbmZvIiwiYWJvdXQiLCJnZXRJbml0aWFsQ2FyZHMiLCJyZW5kZXJJdGVtcyIsInBvcHVwQWRkQ2FyZEZvcm0iLCJpbnB1dHMiLCJjYXJkTmFtZSIsImNhcmRMaW5rIiwicmVzIiwidXNlciIsIm9wZW5FZGl0UHJvZmlsZSIsImNvbmZpZyIsInVwZGF0ZVVzZXJJbmZvIiwiZm9ybVNlbGVjdG9yIiwiYWN0aXZlQnV0dG9uQ2xhc3MiLCJGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=